#compdef miapp

#local -a subcmds topics
#subcmds=('c:description for c command:TAG:DESCRIPTION:{_describe 'nombre' options}' 'd:description for d command')
#topics=('e:description for e help topic' 'f:description for f help topic')
#_describe 'command' subcmds -- topics

#_alternative \
  #'args:custom arg:((a\:"description a" b\:"description b" c\:"description c"))'\
  #'files:filename:_files -/'
  
#_alternative \
  #'args:custom arg:((a\:"description a" b\:"description b" c\:"description c"))'\
  #'args:custom arg:(archivo\:"archivio de texto":_files)'

#_alternative \
  #"dirs:user directory:($userdirs)" \
  #"pids:process ID:($(ps -a  pid=))"

#_alternative \
  #"directories:user directory:($userdirs)" \
  #'options:comma-separated opt: _values -s , letter a b c'
  #'files:user direcotry:_files'

#_arguments '-s[sort output]' '--l[long output]' '-l[long output]'


_arguments '-f[input file]:filename:_files'
#_arguments '-d[input direcotry]:directory:_directory'
#_arguments '-s[sort output]' '1:first arg:_net_interfaces' '::optional arg:_files' ':next arg:(a b c)'

compadd -X 'Some completions' foo bar blah
compadd -P what_ foo bar blah

_arguments '-m[music file]:filename:->files' '-f[flags]:flag:->flags'
case "$state" in
    files)
        local -a music_files
        music_files=(/Users/jaime/Music/*.{mp3,wav,flac,ogg} )
        _multi_parts / music_files
        ;;
    flags)
        _values -s , 'flags' a b c d e
        ;;
esac
